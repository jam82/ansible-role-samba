---
# role: ansible-role-samba
# file: defaults/main.yml

# The role is disabled by default, so you do not get in trouble.
# Checked in tasks/main.yml which includes tasks.yml if enabled.
samba_role_enabled: False

# This uses the ansible fact ansible_domain as samba_domain/realm by default.
# Upper and lowercase conversion is done automatically as needed.
# E.g. your domain is homebase.lan, then this is samba doimain/realm.
# If it is home.example.com, etc...
samba_domain: "{{ ansible_domain | d('localhost.localdomain') }}"

# This uses the first part of ansible_domain as workgroup/ad domain.
# Upper and lowercase conversion is done automatically as needed.
# For domain homebase.lan, homebase is your workgroup.
# For home.example.com, home is your workgroup/ad domain.
samba_workgroup: "{{ (samba_domain | splitext)[0] }}"

# Role as parameter "server role" in smb.conf.
# Supported options are:
# "standalone server" => samba standalone file server without domain config
# "member server"     => samba ad domain member server join to domain
# "domain controller" => ad domain controller
samba_role: "standolone server"

# Active Directory parameters for setting up samba as ADDC as dict.
samba_ad:
  admin_password: "Chang3MeN0w!"
  dns_backend: 'SAMBA_INTERNAL'  # can be SAMBA_INTERNAL or BIND9_DLZ
  dns_forwarder: '9.9.9.9'
  dns_nameservers:
    - "{{ ansible_default_ipv4.address }}"  # List: IP of DC or multiple DC IPs.
  domain: "{{ samba_workgroup }}"
  realm: "{{ samba_domain }}"
